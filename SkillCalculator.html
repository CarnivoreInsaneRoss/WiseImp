<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WiseImp Skill Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 14px;
            margin: 10px;
            background-color: #1a1a1a;
            color: #f0f0f0;
            width: 334px;
        }

        input, select, button {
            margin: 5px 0;
            padding: 5px;
            width: 100%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid #555;
            padding: 4px;
            text-align: left;
        }

        th {
            background-color: #333;
        }

        tr.available {
            background-color: #2a2;
        }

        tr.unavailable {
            background-color: #444;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<h2 id="skillTitle">Skill Calculator</h2>

<label for="currentXP">Current XP:</label>
<input type="number" id="currentXP" value="0">

<label for="targetLevel">Target Level:</label>
<input type="number" id="targetLevel" value="99">

<label for="categorySelect">Category:</label>
<select id="categorySelect" onchange="loadItems()"></select>

<button id="calculateBtn">Calculate</button>

<table id="resultsTable">
    <thead>
        <tr>
            <th>Level</th>
            <th>Name</th>
            <th>XP</th>
            <th>Amount</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
let currentSkill = "";
let currentXp = 0;
let currentLevel = 1;
let currentCategory = "";
let skillData = null;

function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

function calculateXpNeeded(targetLevel) {
    const xpTable = [0];
    let xp = 0;
    for (let level = 1; level <= 99; level++) {
        xp += Math.floor(level + 300 * Math.pow(2, level / 7));
        xpTable[level] = Math.floor(xp / 4);
    }
    const targetXp = xpTable[targetLevel] || 13034431;
    return Math.max(0, targetXp - currentXp);
}

function updateCurrentLevel() {
    const xp = parseInt(document.getElementById('currentXP').value) || 0;
    currentXp = xp;

    const xpTable = [0];
    let xpTotal = 0;
    for (let level = 1; level <= 99; level++) {
        xpTotal += Math.floor(level + 300 * Math.pow(2, level / 7));
        xpTable[level] = Math.floor(xpTotal / 4);
    }

    for (let i = 1; i <= 99; i++) {
        if (xp < xpTable[i]) {
            currentLevel = i - 1;
            break;
        }
    }

    if (currentLevel < 99 && xp >= xpTable[99]) currentLevel = 99;

    document.getElementById('targetLevel').value = Math.min(currentLevel + 1, 99);
}

function updateSkillInfo() {
    document.getElementById('skillTitle').innerText = `${currentSkill} Skill Calculator`;
}

function loadCategories() {
    const select = document.getElementById('categorySelect');
    select.innerHTML = '';

    const categories = skillData.skills[currentSkill].categories;
    for (const category in categories) {
        const option = document.createElement('option');
        option.value = category;
        option.text = category;
        select.appendChild(option);
    }

    currentCategory = select.value;
    loadItems();
}

function loadItems() {
    currentCategory = document.getElementById('categorySelect').value;
    calculate();
}

function calculate() {
    const targetLevel = parseInt(document.getElementById('targetLevel').value) || 99;
    const xpNeeded = calculateXpNeeded(targetLevel);
    const resultsBody = document.querySelector('#resultsTable tbody');
    resultsBody.innerHTML = '';

    const items = skillData.skills[currentSkill].categories[currentCategory].items;
    const sortedItems = items.map(item => ({
        ...item,
        itemsNeeded: Math.ceil(xpNeeded / item.xp)
    })).sort((a, b) => a.level - b.level);

    sortedItems.forEach(item => {
        const isAvailable = item.level <= currentLevel;
        const row = document.createElement('tr');
        row.className = isAvailable ? 'available' : 'unavailable';
        row.innerHTML = `
            <td>${item.level}</td>
            <td>${item.name}</td>
            <td>${item.xp}</td>
            <td>${isAvailable ? item.itemsNeeded.toLocaleString() : 'â€”'}</td>
        `;
        resultsBody.appendChild(row);
    });
}

const embeddedSkillsData = {"skills":{"Prayer":{"categories":{"Bones":{"items":[{"name":"Bones","xp":4.5,"level":1},{"name":"bones burnt","xp":4.5,"level":1},{"name":"Bat Bones","xp":4.5,"level":1},{"name":"Wolf Bones","xp":4.5,"level":1},{"name":"Big Bones","xp":15,"level":1},{"name":"Babydragon Bones","xp":30,"level":1},{"name":"Dragon Bones","xp":72,"level":1}]}}},"Magic":{"categories":{"Combat Spells":{"items":[{"name":"Wind Strike","xp":5.5,"level":1},{"name":"Confuse","xp":13,"level":3},{"name":"Water Strike","xp":7.5,"level":5},{"name":"Earth Strike","xp":9.5,"level":9},{"name":"Weaken","xp":21,"level":11},{"name":"Fire Strike","xp":11.5,"level":13},{"name":"Wind Bolt","xp":13.5,"level":17},{"name":"Curse","xp":29,"level":19},{"name":"Bind","xp":30,"level":20},{"name":"Water Bolt","xp":16.5,"level":23},{"name":"Earth Bolt","xp":19.5,"level":29},{"name":"Fire Bolt","xp":22.5,"level":35},{"name":"Crumble Undead","xp":24.5,"level":39},{"name":"Wind Blast","xp":25.5,"level":41},{"name":"Water Blast","xp":28.5,"level":47},{"name":"Iban Blast","xp":30,"level":50},{"name":"Snare","xp":60,"level":50},{"name":"Earth Blast","xp":31.5,"level":53},{"name":"Fire Blast","xp":34.5,"level":59},{"name":"Saradomin Strike","xp":35,"level":60},{"name":"Claws of Guthix","xp":35,"level":60},{"name":"Flames of Zamorak","xp":35,"level":60},{"name":"Wind Wave","xp":36,"level":62},{"name":"Water Wave","xp":37.5,"level":65},{"name":"Vulnerability","xp":76,"level":66},{"name":"Earth Wave","xp":40,"level":70},{"name":"Enfeeble","xp":89,"level":73},{"name":"Fire Wave","xp":42.5,"level":75},{"name":"Entangle","xp":90,"level":79},{"name":"Stun","xp":80,"level":80}]},"Non-Combat Spells":{"items":[{"name":"Low Level Alchemy","xp":31,"level":21},{"name":"High Level Alchemy","xp":65,"level":55},{"name":"Superheat Item","xp":53,"level":43},{"name":"Charge","xp":180,"level":80},{"name":"Bones to Bananas","xp":25,"level":15},{"name":"Lvl-1 Enchant","xp":17.5,"level":7},{"name":"Lvl-2 Enchant","xp":37,"level":27},{"name":"Lvl-3 Enchant","xp":59,"level":49},{"name":"Lvl-4 Enchant","xp":67,"level":57},{"name":"Lvl-5 Enchant","xp":78,"level":68},{"name":"Telekinetic Grab","xp":43,"level":33},{"name":"Charge Water Orb","xp":56,"level":56},{"name":"Charge Earth Orb","xp":70,"level":60},{"name":"Charge Fire Orb","xp":73,"level":63},{"name":"Charge Air Orb","xp":76,"level":66},{"name":"Varrock Teleport","xp":35,"level":25},{"name":"Lumbridge Teleport","xp":41,"level":31},{"name":"Falador Teleport","xp":47,"level":37},{"name":"Camelot Teleport","xp":55.5,"level":45},{"name":"Ardougne Teleport","xp":61,"level":51},{"name":"Watchtower Teleport","xp":68,"level":61}]}}},"Runecrafting":{"categories":{"Runes":{"items":[{"name":"AirRune","xp":5,"level":1},{"name":"MindRune","xp":5.5,"level":2},{"name":"WaterRune","xp":6,"level":5},{"name":"EarthRune","xp":6.5,"level":9},{"name":"FireRune","xp":7,"level":14},{"name":"BodyRune","xp":7.5,"level":20},{"name":"CosmicRune","xp":8,"level":27},{"name":"ChaosRune","xp":8.5,"level":35},{"name":"NatureRune","xp":9,"level":44}]}}},"Agility":{"categories":{"Courses":{"items":[{"name":"Gnome Stronghold","xp":86.5,"level":1},{"name":"Barbarian Outpost","xp":139.5,"level":35},{"name":"Wilderness","xp":601.4,"level":52}]},"Shortcuts":{"items":[{"name":"A wooden log (Karamja)","xp":4,"level":1},{"name":"Crumbling wall (Falador)","xp":0.5,"level":5},{"name":"Climbing rocks (Yanille)","xp":25,"level":5},{"name":"Ropeswing (Brimhaven)","xp":3,"level":10},{"name":"Monkeybars (Edgeville Dungeon)","xp":20,"level":15},{"name":"Log balance (Coal Trucks)","xp":8.5,"level":20},{"name":"Stepping stones (Karamja)","xp":3,"level":30},{"name":"Monkeybars (Yanille Dungeon)","xp":20,"level":57}]}}},"Herblore":{"categories":{"Complete Potions":{"items":[{"name":"Attack Potion(3)","xp":27.5,"level":3},{"name":"Antipoison(3)","xp":41.3,"level":5},{"name":"Strength Potion(3)","xp":55,"level":12},{"name":"Stat Restore(3)","xp":68.8,"level":22},{"name":"Defense Potion(3)","xp":82.5,"level":30},{"name":"Prayer Restore(3)","xp":95,"level":38},{"name":"Super Attack(3)","xp":108.8,"level":45},{"name":"Super Antipoison(3)","xp":115.1,"level":48},{"name":"Fisher's Potion(3)","xp":122.5,"level":50},{"name":"Super Strength(3)","xp":136.3,"level":55},{"name":"Weapon Poison","xp":148.8,"level":60},{"name":"Super Defense(3)","xp":162.5,"level":66},{"name":"Antidragon(3)","xp":170.6,"level":69},{"name":"Ranger's Potion(3)","xp":176.3,"level":72},{"name":"Potion of Zamorak(3)","xp":190,"level":78}]},"Cleaning Herbs":{"items":[{"name":"Guam Leaf","xp":2.5,"level":3},{"name":"Marrentill","xp":3.8,"level":5},{"name":"Tarromin","xp":5,"level":11},{"name":"Harralander","xp":6.3,"level":20},{"name":"Ranarr Weed","xp":7.5,"level":25},{"name":"Irit Leaf","xp":8.8,"level":40},{"name":"Avantoe","xp":10,"level":48},{"name":"Kwuarm","xp":11.3,"level":54},{"name":"Cadantine","xp":12.5,"level":65},{"name":"Lantadyme","xp":13.1,"level":67},{"name":"Dwarf Weed","xp":13.8,"level":70},{"name":"Torstol","xp":15,"level":75}]},"Unfinished Potions":{"items":[{"name":"Attack Potion(3) unf","xp":25,"level":3},{"name":"Antipoison(3) unf","xp":37.5,"level":5},{"name":"Strength Potion(3) unf","xp":50,"level":12},{"name":"Stat Restore(3) unf","xp":62.5,"level":22},{"name":"Defense Potion(3) unf","xp":75,"level":30},{"name":"Prayer Restore(3) unf","xp":87.5,"level":38},{"name":"Super Attack(3) unf","xp":100,"level":45},{"name":"Super Antipoison(3) unf","xp":106.3,"level":48},{"name":"Fisher's Potion(3) unf","xp":112.5,"level":50},{"name":"Super Strength(3) unf","xp":125,"level":55},{"name":"Weapon Poison unf","xp":137.5,"level":60},{"name":"Super Defense(3) unf","xp":150,"level":66},{"name":"Antidragon(3) unf","xp":157.5,"level":69},{"name":"Ranger's Potion(3) unf","xp":162.5,"level":72},{"name":"Potion of Zamorak(3) unf","xp":175,"level":78}]}}},"Thieving":{"categories":{"NPCs":{"items":[{"name":"Man/Woman","xp":8,"level":1},{"name":"Farmer","xp":14.5,"level":10},{"name":"Warrior/Al Kharid warrior","xp":26,"level":25},{"name":"Digsite Workman","xp":10.4,"level":10},{"name":"Rogue","xp":36.5,"level":32},{"name":"Guard","xp":46.8,"level":40},{"name":"Knight of Ardougne","xp":84.3,"level":55},{"name":"Yanille Watchman","xp":137.5,"level":65},{"name":"Paladin","xp":151.8,"level":70},{"name":"Gnome","xp":198.3,"level":75},{"name":"Hero","xp":273.3,"level":80}]},"Stalls":{"items":[{"name":"Bakery Stall","xp":16,"level":5},{"name":"Tea Stall","xp":16,"level":5},{"name":"Silk Stall","xp":24,"level":20},{"name":"Fur Stall","xp":36,"level":35},{"name":"Silver Stall","xp":54,"level":50},{"name":"Spice Stall","xp":81,"level":65},{"name":"Gem Stall","xp":16,"level":75}]},"Chests":{"items":[{"name":"10 Coin Chest","xp":7.8,"level":1},{"name":"Nature Rune Chest","xp":25,"level":28},{"name":"50 Coin Chest","xp":125,"level":43},{"name":"Steel Arrowtips Chest","xp":150,"level":47},{"name":"Blood Rune Chest","xp":250,"level":59},{"name":"Ardougne Castle Chest","xp":500,"level":72}]},"Pickable Doors":{"items":[{"name":"Ross House Door","xp":15,"level":13},{"name":"Magic Axe Hut Door","xp":22.5,"level":23},{"name":"Ardougne Sewer Gate","xp":25,"level":31},{"name":"Pirate Hideout Door","xp":35,"level":39,"lockpick":true},{"name":"Chaos Druid Tower Door","xp":37.5,"level":46,"lockpick":true},{"name":"Ardougne Castle Door","xp":50,"level":61},{"name":"Yanille Dungeon Door","xp":50,"level":82,"lockpick":true}]}}},"Crafting":{"categories":{"Jewelry":{"items":[{"name":"Gold Ring","xp":15,"level":5},{"name":"Gold Necklace","xp":20,"level":6},{"name":"Gold Amulet","xp":30,"level":8},{"name":"Sapphire Ring","xp":40,"level":20},{"name":"Sapphire Necklace","xp":55,"level":22},{"name":"Sapphire Amulet","xp":60,"level":24},{"name":"Emerald Ring","xp":55,"level":27},{"name":"Emerald Necklace","xp":60,"level":29},{"name":"Emerald Amulet","xp":70,"level":31},{"name":"Ruby Ring","xp":70,"level":34},{"name":"Ruby Necklace","xp":75,"level":40},{"name":"Ruby Amulet","xp":85,"level":50},{"name":"Diamond Ring","xp":85,"level":43},{"name":"Diamond Necklace","xp":90,"level":56},{"name":"Diamond Amulet","xp":100,"level":70},{"name":"Dragonstone Ring","xp":100,"level":55},{"name":"Dragonstone Necklace","xp":105,"level":72},{"name":"unstrung Dragonstone Amulet","xp":150,"level":80},{"name":"strung Dragonstone Amulet","xp":154,"level":80}]},"Pottery & Glass":{"items":[{"name":"Pot unfired","xp":6.3,"level":1},{"name":"Pot empty","xp":12.6,"level":1},{"name":"Beer Glass","xp":17.5,"level":1},{"name":"PieDish unfired","xp":15,"level":7},{"name":"PieDish","xp":25,"level":7},{"name":"Bowl unfired","xp":18,"level":8},{"name":"Bowl empty","xp":33,"level":8},{"name":"Vial empty","xp":35,"level":33},{"name":"stafforb","xp":52.5,"level":46}]},"Spinning":{"items":[{"name":"Ball of Wool","xp":2.5,"level":1},{"name":"Bow String","xp":15,"level":10}]}}},"Fletching":{"categories":{"Bows":{"items":[{"name":"Shortbow","xp":5,"level":1},{"name":"Longbow","xp":10,"level":5},{"name":"Oak Shortbow","xp":16.5,"level":20},{"name":"Oak Longbow","xp":25,"level":25},{"name":"Willow Shortbow","xp":33.3,"level":35},{"name":"Willow Longbow","xp":41.5,"level":40},{"name":"Maple Shortbow","xp":50,"level":50},{"name":"Maple Longbow","xp":58.3,"level":55},{"name":"Yew Shortbow","xp":67.5,"level":65},{"name":"Yew Longbow","xp":75,"level":70},{"name":"Magic Shortbow","xp":83.3,"level":80},{"name":"Magic Longbow","xp":91.5,"level":85}]},"Arrows & Bolts":{"items":[{"name":"Arrow Shaft","xp":5,"level":1},{"name":"Headless Arrow","xp":20,"level":1},{"name":"Bronze Arrow","xp":39.5,"level":1},{"name":"Opal Bolt","xp":31,"level":11},{"name":"Iron Arrow","xp":57.5,"level":15},{"name":"Steel Arrow","xp":95,"level":30},{"name":"Pearl Bolt","xp":64,"level":41},{"name":"Mithril Arrow","xp":132.5,"level":45},{"name":"Barbed Bolt","xp":95,"level":51},{"name":"Adamant Arrow","xp":170,"level":60},{"name":"Rune Arrow","xp":207.5,"level":75}]},"Incomplete":{"items":[{"name":"Headless Arrow","xp":15,"level":1},{"name":"Bronze Arrowheads","xp":13,"level":1},{"name":"Opal Bolttips","xp":15,"level":11},{"name":"Iron Arrowheads","xp":25,"level":15},{"name":"Steel Arrowheads","xp":50,"level":30},{"name":"Pearl Bolttips","xp":32,"level":41},{"name":"Mithril Arrowheads","xp":75,"level":45},{"name":"Adamant Arrowheads","xp":100,"level":60},{"name":"Rune Arrowheads","xp":125,"level":75}]}}},"Mining":{"categories":{"Ores":{"items":[{"name":"Clay","xp":5,"level":1},{"name":"blankrune","xp":5,"level":1},{"name":"Copper Ore","xp":17.5,"level":1},{"name":"Tin Ore","xp":17.5,"level":1},{"name":"Blurite Ore","xp":17.5,"level":10},{"name":"Iron Ore","xp":35,"level":15},{"name":"Silver Ore","xp":40,"level":20},{"name":"Coal","xp":50,"level":30},{"name":"Gold Ore","xp":65,"level":40},{"name":"Gem Rock","xp":65,"level":40},{"name":"Mithril Ore","xp":80,"level":55},{"name":"Adamantite Ore","xp":95,"level":70},{"name":"Runite Ore","xp":125,"level":85}]}}},"Smithing":{"categories":{"Bronze Items":{"items":[{"name":"Bronze Dagger","xp":12.5,"level":1,"bars":1},{"name":"Bronze Axe","xp":12.5,"level":1,"bars":1},{"name":"Bronze Mace","xp":12.5,"level":2,"bars":1},{"name":"Bronze Med Helm","xp":12.5,"level":3,"bars":1},{"name":"Bronze Sword","xp":12.5,"level":4,"bars":1},{"name":"Bronze Dart Tip","xp":12.5,"level":4,"bars":1},{"name":"BronzecraftWire","xp":12.5,"level":4,"bars":1},{"name":"Bronze Scimitar","xp":25,"level":5,"bars":2},{"name":"Bronze Arrowheads","xp":12.5,"level":5,"bars":1},{"name":"Bronze Longsword","xp":25,"level":6,"bars":2},{"name":"Bronze Full Helm","xp":25,"level":7,"bars":2},{"name":"Bronze Knife","xp":12.5,"level":7,"bars":1},{"name":"Bronze Sq Shield","xp":25,"level":8,"bars":2},{"name":"Bronze Warhammer","xp":37.5,"level":9,"bars":3},{"name":"Bronze Battleaxe","xp":37.5,"level":10,"bars":3},{"name":"Bronze Chainbody","xp":37.5,"level":11,"bars":3},{"name":"Bronze Kiteshield","xp":37.5,"level":12,"bars":3},{"name":"Bronze 2h Sword","xp":37.5,"level":14,"bars":3},{"name":"Bronze Platelegs","xp":37.5,"level":16,"bars":3},{"name":"Bronze Plateskirt","xp":37.5,"level":16,"bars":3},{"name":"Bronze Platebody","xp":62.5,"level":18,"bars":5}]},"Iron Items":{"items":[{"name":"Iron Dagger","xp":25,"level":15,"bars":1},{"name":"Iron Axe","xp":25,"level":16,"bars":1},{"name":"Iron Mace","xp":25,"level":17,"bars":1},{"name":"Iron Med Helm","xp":25,"level":18,"bars":1},{"name":"Iron Sword","xp":25,"level":19,"bars":1},{"name":"Iron Dart Tip","xp":25,"level":19,"bars":1},{"name":"Iron Scimitar","xp":50,"level":20,"bars":2},{"name":"Iron Arrowheads","xp":25,"level":20,"bars":1},{"name":"Iron Longsword","xp":50,"level":21,"bars":2},{"name":"Iron Full Helm","xp":50,"level":22,"bars":2},{"name":"Iron Knife","xp":25,"level":22,"bars":1},{"name":"Iron Sq Shield","xp":50,"level":23,"bars":2},{"name":"Iron Warhammer","xp":75,"level":24,"bars":3},{"name":"Iron Battleaxe","xp":75,"level":25,"bars":3},{"name":"Iron Chainbody","xp":75,"level":26,"bars":3},{"name":"Iron Kiteshield","xp":75,"level":27,"bars":3},{"name":"Iron 2h Sword","xp":75,"level":29,"bars":3},{"name":"Iron Platelegs","xp":75,"level":31,"bars":3},{"name":"Iron Plateskirt","xp":75,"level":31,"bars":3},{"name":"Iron Platebody","xp":125,"level":33,"bars":5}]},"Steel Items":{"items":[{"name":"Steel Dagger","xp":37.5,"level":30,"bars":1},{"name":"Steel Axe","xp":37.5,"level":31,"bars":1},{"name":"Steel Mace","xp":37.5,"level":32,"bars":1},{"name":"Steel Med Helm","xp":37.5,"level":33,"bars":1},{"name":"Steel Sword","xp":37.5,"level":34,"bars":1},{"name":"Nails","xp":37.5,"level":34,"bars":1},{"name":"Steel Dart Tip","xp":37.5,"level":34,"bars":1},{"name":"Steel Scimitar","xp":75,"level":35,"bars":2},{"name":"Steel Arrowheads","xp":37.5,"level":35,"bars":1},{"name":"mCannonball","xp":50,"level":35,"bars":1},{"name":"Steel Longsword","xp":75,"level":36,"bars":2},{"name":"Studs","xp":37.5,"level":36,"bars":1},{"name":"Steel Full Helm","xp":75,"level":37,"bars":2},{"name":"Steel Knife","xp":37.5,"level":37,"bars":1},{"name":"Steel Sq Shield","xp":75,"level":38,"bars":2},{"name":"Steel Warhammer","xp":112.5,"level":39,"bars":3},{"name":"Steel Battleaxe","xp":112.5,"level":40,"bars":3},{"name":"Steel Chainbody","xp":112.5,"level":41,"bars":3},{"name":"Steel Kiteshield","xp":112.5,"level":42,"bars":3},{"name":"Steel 2h Sword","xp":112.5,"level":44,"bars":3},{"name":"Steel Platelegs","xp":112.5,"level":46,"bars":3},{"name":"Steel Plateskirt","xp":112.5,"level":46,"bars":3},{"name":"Steel Platebody","xp":187.5,"level":48,"bars":5}]},"Mithril Items":{"items":[{"name":"Mithril Dagger","xp":50,"level":50,"bars":1},{"name":"Mithril Axe","xp":50,"level":51,"bars":1},{"name":"Mithril Mace","xp":50,"level":52,"bars":1},{"name":"Mithril Med Helm","xp":50,"level":53,"bars":1},{"name":"Mithril Sword","xp":50,"level":54,"bars":1},{"name":"Mithril Dart Tip","xp":50,"level":54,"bars":1},{"name":"Mithril Scimitar","xp":100,"level":55,"bars":2},{"name":"Mithril Arrowheads","xp":50,"level":55,"bars":1},{"name":"Mithril Longsword","xp":100,"level":56,"bars":2},{"name":"Mithril Full Helm","xp":100,"level":57,"bars":2},{"name":"Mithril Knife","xp":50,"level":57,"bars":1},{"name":"Mithril Sq Shield","xp":100,"level":58,"bars":2},{"name":"Mithril Warhammer","xp":150,"level":59,"bars":3},{"name":"Mithril Battleaxe","xp":150,"level":60,"bars":3},{"name":"Mithril Chainbody","xp":150,"level":61,"bars":3},{"name":"Mithril Kiteshield","xp":150,"level":62,"bars":3},{"name":"Mithril 2h Sword","xp":150,"level":64,"bars":3},{"name":"Mithril Platelegs","xp":150,"level":66,"bars":3},{"name":"Mithril Plateskirt","xp":150,"level":66,"bars":3},{"name":"Mithril Platebody","xp":250,"level":68,"bars":5}]},"Adamant Items":{"items":[{"name":"Adamant Dagger","xp":62.5,"level":70,"bars":1},{"name":"Adamant Axe","xp":62.5,"level":71,"bars":1},{"name":"Adamant Mace","xp":62.5,"level":72,"bars":1},{"name":"Adamant Med Helm","xp":62.5,"level":73,"bars":1},{"name":"Adamant Sword","xp":62.5,"level":74,"bars":1},{"name":"Adamant Dart Tip","xp":62.5,"level":74,"bars":1},{"name":"Adamant Scimitar","xp":125,"level":75,"bars":2},{"name":"Adamant Arrowheads","xp":62.5,"level":75,"bars":1},{"name":"Adamant Longsword","xp":125,"level":76,"bars":2},{"name":"Adamant Full Helm","xp":125,"level":77,"bars":2},{"name":"Adamant Knife","xp":62.5,"level":77,"bars":1},{"name":"Adamant Sq Shield","xp":125,"level":78,"bars":2},{"name":"Adamnt Warhammer","xp":187.5,"level":79,"bars":3},{"name":"Adamant Battleaxe","xp":187.5,"level":80,"bars":3},{"name":"Adamant Chainbody","xp":187.5,"level":81,"bars":3},{"name":"Adamant Kiteshield","xp":187.5,"level":82,"bars":3},{"name":"Adamant 2h Sword","xp":187.5,"level":84,"bars":3},{"name":"Adamant Platelegs","xp":187.5,"level":86,"bars":3},{"name":"Adamant Plateskirt","xp":187.5,"level":86,"bars":3},{"name":"Adamant Platebody","xp":312.5,"level":88,"bars":5}]},"Rune Items":{"items":[{"name":"Rune Dagger","xp":75,"level":85,"bars":1},{"name":"Rune Axe","xp":75,"level":86,"bars":1},{"name":"Rune Mace","xp":75,"level":87,"bars":1},{"name":"Rune Med Helm","xp":75,"level":88,"bars":1},{"name":"Rune Sword","xp":75,"level":89,"bars":1},{"name":"Rune Dart Tip","xp":75,"level":89,"bars":1},{"name":"Rune Scimitar","xp":150,"level":90,"bars":2},{"name":"Rune Arrowheads","xp":75,"level":90,"bars":1},{"name":"Rune Longsword","xp":150,"level":91,"bars":2},{"name":"Rune Full Helm","xp":150,"level":92,"bars":2},{"name":"Rune Knife","xp":75,"level":92,"bars":1},{"name":"Rune Sq Shield","xp":150,"level":93,"bars":2},{"name":"Rune Warhammer","xp":225,"level":94,"bars":3},{"name":"Rune Battleaxe","xp":225,"level":95,"bars":3},{"name":"Rune Chainbody","xp":225,"level":96,"bars":3},{"name":"Rune Kiteshield","xp":225,"level":97,"bars":3},{"name":"Rune 2h Sword","xp":225,"level":99,"bars":3},{"name":"Rune Platelegs","xp":225,"level":99,"bars":3},{"name":"Rune Plateskirt","xp":225,"level":99,"bars":3},{"name":"Rune Platebody","xp":375,"level":99,"bars":5}]},"Smelting":{"items":[{"name":"Bronze Bar","xp":6.2,"level":1},{"name":"Iron Bar","xp":12.5,"level":15},{"name":"Silver Bar","xp":13.7,"level":20},{"name":"Steel Bar","xp":17.5,"level":30},{"name":"Gold Bar","xp":22.5,"level":40},{"name":"Goldsmith Gauntlets","xp":56.2,"level":40},{"name":"Mithril Bar","xp":30,"level":50},{"name":"Adamantite Bar","xp":37.5,"level":70},{"name":"Runite Bar","xp":50,"level":85}]}}},"Fishing":{"categories":{"Fish":{"items":[{"name":"Shrimp","xp":10,"level":1},{"name":"Sardine","xp":20,"level":5},{"name":"Herring","xp":30,"level":10},{"name":"Anchovies","xp":40,"level":15},{"name":"Mackerel","xp":20,"level":16},{"name":"Trout","xp":50,"level":20},{"name":"Cod","xp":45,"level":23},{"name":"Pike","xp":60,"level":25},{"name":"Salmon","xp":70,"level":30},{"name":"Tuna","xp":80,"level":35},{"name":"Lobster","xp":90,"level":40},{"name":"Bass","xp":100,"level":46},{"name":"Swordfish","xp":100,"level":50},{"name":"Lava Eel","xp":60,"level":53},{"name":"Shark","xp":110,"level":76},{"name":"SeaTurtle","xp":57,"level":79},{"name":"MantaRay","xp":69,"level":81}]}}},"Cooking":{"categories":{"Food":{"items":[{"name":"Cooked Meat","xp":30,"level":1},{"name":"Cooked Chicken","xp":30,"level":1},{"name":"Shrimp","xp":30,"level":1},{"name":"Anchovies","xp":30,"level":1},{"name":"Bread","xp":40,"level":1},{"name":"Sardine","xp":40,"level":1},{"name":"cooked_ugthanki_meat","xp":40,"level":1},{"name":"Herring","xp":50,"level":5},{"name":"Mackerel","xp":60,"level":10},{"name":"Redberry Pie","xp":78,"level":10},{"name":"Trout","xp":70,"level":15},{"name":"Cod","xp":75,"level":18},{"name":"Pike","xp":80,"level":20},{"name":"Meat Pie","xp":110,"level":20},{"name":"Salmon","xp":90,"level":25},{"name":"Stew","xp":117,"level":25},{"name":"Cooked Chompy","xp":100,"level":30},{"name":"Tuna","xp":100,"level":30},{"name":"Apple Pie","xp":130,"level":30},{"name":"Plain Pizza","xp":143,"level":35},{"name":"Jug Wine","xp":200,"level":35},{"name":"Lobster","xp":120,"level":40},{"name":"Cake","xp":180,"level":40},{"name":"Bass","xp":130,"level":43},{"name":"Swordfish","xp":140,"level":45},{"name":"Meat Pizza","xp":169,"level":45},{"name":"Chocolate Cake","xp":210,"level":50},{"name":"Lava Eel","xp":30,"level":53},{"name":"Anchovie Pizza","xp":182,"level":55},{"name":"Pitta Bread","xp":40,"level":58},{"name":"Curry","xp":280,"level":60},{"name":"Pineapple Pizza","xp":195,"level":65},{"name":"Shark","xp":210,"level":80},{"name":"SeaTurtle","xp":211.3,"level":82},{"name":"MantaRay","xp":216.2,"level":91}]}}},"Firemaking":{"categories":{"Logs":{"items":[{"name":"logs","xp":40,"level":1},{"name":"achey_tree_logs","xp":40,"level":1},{"name":"oak_logs","xp":60,"level":15},{"name":"willow_logs","xp":90,"level":30},{"name":"maple_logs","xp":135,"level":45},{"name":"yew_logs","xp":202.5,"level":60},{"name":"magic_logs","xp":303.8,"level":75}]}}},"Woodcutting":{"categories":{"Logs":{"items":[{"name":"logs","xp":25,"level":1},{"name":"achey_tree_logs","xp":25,"level":1},{"name":"oak_logs","xp":37.5,"level":15},{"name":"willow_logs","xp":67.5,"level":30},{"name":"maple_logs","xp":100,"level":45},{"name":"yew_logs","xp":175,"level":60},{"name":"magic_logs","xp":250,"level":75}]}}}}};
</script>

<script>
window.addEventListener('DOMContentLoaded', () => {
    const skill = getQueryParam('skill');
    const xp = parseInt(getQueryParam('xp')) || 0;

    if (skill && embeddedSkillsData.skills[skill]) {
        skillData = embeddedSkillsData;
        currentSkill = skill;
        currentXp = xp;
        document.getElementById('currentXP').value = currentXp;

        updateCurrentLevel();
        updateSkillInfo();
        loadCategories();

        // WebView2 support
        if (window.chrome && window.chrome.webview) {
            window.chrome.webview.postMessage({
                type: 'init',
                skill: skill,
                xp: xp,
                skillData: embeddedSkillsData
            });
        }
    }

    document.getElementById('currentXP')?.addEventListener('input', updateCurrentLevel);
    document.getElementById('calculateBtn')?.addEventListener('click', calculate);
});
</script>

</body>
</html>
